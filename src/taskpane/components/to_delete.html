<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
</head>

<body>
<div id="root"></div>

<script src="https://unpkg.com/react@16/umd/react.development.js"></script>
<script src="https://unpkg.com/react-dom@16/umd/react-dom.development.js"></script>
<script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
<!--<script src="https://cdn.jsdelivr.net/npm/class-autobind"></script>-->

<script type="text/babel">
    /* @flow */

    // The following React methods should not be automatically bound.
    const REACT_EXCLUDE_METHODS = {
        getChildContext: true,
        render: true,
        componentWillMount: true,
        componentDidMount: true,
        componentWillReceiveProps: true,
        shouldComponentUpdate: true,
        componentWillUpdate: true,
        componentDidUpdate: true,
        componentWillUnmount: true,
    };

    function isExcluded(methodName) {
        return (REACT_EXCLUDE_METHODS[methodName] === true);
    }

    function isFunction(item) {
        return (typeof item === 'function');
    }

    function autobind(instance , proto ) {
        if (proto == null) {
            proto = Object.getPrototypeOf(instance);
        }
        let propertyNames = Object.getOwnPropertyNames(proto);
        for (let name of propertyNames) {
            let value = proto[name];
            if (isFunction(value) && !isExcluded(name)) {
                instance[name] = proto[name].bind(instance);
            }
        }
    }

    class Hello extends React.Component{
        constructor(props) {
            super(props);
            autobind(this);

            this.state={count : 0};
            // this.handleClick = this.handleClick.bind(this);

        }
        handleClick(){
            this.setState({count: 1})
        }
        render() {
            return <p onClick={this.handleClick}>Count: {  this.state.count}</p>;
        };
    }

    ReactDOM.render(
        <Hello name='World'/>,
        document.getElementById('root'),
    );
</script>
</body>

</html>